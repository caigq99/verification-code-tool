__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/index/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"animationState":new Array(3)},K=U===true,d=(C)=>{},f=(C)=>{},g=(C)=>{},h=(C)=>{},e=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"shape shape1 gpu-accelerated")},f);E("view",{},(N,C)=>{if(C)L(N,"shape shape2 gpu-accelerated")},g);E("view",{},(N,C)=>{if(C)L(N,"shape shape3 gpu-accelerated")},h)},c=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"gradient-bg gpu-accelerated")},d);E("view",{},(N,C)=>{if(C)L(N,"floating-shapes gpu-accelerated")},e)},k=(C)=>{},l=(C)=>{},m=(C,T)=>{C?T("YanX"):T()},n=(C,T)=>{C?T("Yan x Y系列"):T()},o=(C,T)=>{C?T("v6.3.0"):T()},p=(C)=>{},j=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"brand-deco brand-deco1 gpu-accelerated")},k);E("view",{},(N,C)=>{if(C)L(N,"brand-deco brand-deco2 gpu-accelerated")},l);E("text",{},(N,C)=>{if(C)L(N,"brand-main gpu-accelerated")},m);E("text",{},(N,C)=>{if(C)L(N,"brand-sub gpu-accelerated")},n);E("text",{},(N,C)=>{if(C)L(N,"version-text gpu-accelerated")},o);E("view",{},(N,C)=>{if(C)L(N,"brand-line gpu-accelerated")},p)},s=(C,T)=>{C?T("📢"):T()},t=(C,T)=>{C?T("公告"):T()},v,y=(C,T)=>{C?T("获取公告中..."):T()},A0=(C)=>{},B0=(C)=>{},C0=(C)=>{},z=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"dot")},A0);E("view",{},(N,C)=>{if(C)L(N,"dot")},B0);E("view",{},(N,C)=>{if(C)L(N,"dot")},C0)},x=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"loading-text")},y);E("view",{},(N,C)=>{if(C)L(N,"loading-dots")},z)},E0=(C,T)=>{var $A=D.currentNoticeIndex;C||K||!!(U.currentNoticeIndex||Z(Z(U.notices,$A),"content"))||undefined?T(Y("\n              "+Y(X(X(D.notices)[$A]).content)+"\n            ")):T()},D0=(C,T,E)=>{E("text",{},(N,C)=>{var $A=D.noticeError;if(C||K||!!(U.noticeError||($A?undefined:undefined))||undefined)L(N,"notice-text "+Y($A?"notice-error":""))},E0)},w=(C,T,E)=>{if(v===1){E("view",{},(N,C)=>{if(C)L(N,"notice-loading")},x)}else{E("view",{},(N,C)=>{if(C)L(N,"notice-text-container")},D0)}},u=(C,T,E,B)=>{v=D.noticeLoading?1:0;B(v,w)},F0,I0=(C,T)=>{C||K||!!(U.currentNoticeIndex||Z(U.notices,"length"))||undefined?T(Y(Y(D.currentNoticeIndex+1)+"/"+Y(X(D.notices).length))):T()},H0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"indicator-text")},I0)},G0=(C,T,E)=>{if(F0===1){E("view",{},(N,C)=>{if(C)L(N,"notice-indicator")},H0)}},r=(C,T,E,B)=>{E("view",{},(N,C)=>{if(C)L(N,"notice-icon")},s);E("view",{},(N,C)=>{if(C)L(N,"notice-title")},t);E("view",{},(N,C)=>{if(C)L(N,"notice-content")},u);F0=X(D.notices).length>1&&!D.noticeLoading?1:0;B(F0,G0)},q=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"notice-container")},r)},M0=(C,T)=>{C?T("🔐"):T()},L0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"icon")},M0)},O0=(C,T)=>{C?T("获取验证码"):T()},P0=(C,T)=>{C?T("用于激活Y系列应用程序工具"):T()},R0=(C,T)=>{C?T("📺"):T()},S0=(C,T)=>{C?T("需观看完整视频"):T()},Q0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"hint-icon")},R0);E("text",{},(N,C)=>{if(C)L(N,"hint-text")},S0)},N0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"card-title")},O0);E("text",{},(N,C)=>{if(C)L(N,"card-desc")},P0);E("view",{},(N,C)=>{if(C)L(N,"video-hint")},Q0)},T0=(C,T)=>{C?T("→"):T()},K0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"card-icon")},L0);E("view",{},(N,C)=>{if(C)L(N,"card-content")},N0);E("view",{},(N,C)=>{if(C)L(N,"card-arrow")},T0)},W0=(C,T)=>{C?T("🎁"):T()},V0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"icon")},W0)},Y0=(C,T)=>{C?T("彩蛋"):T()},Z0=(C,T)=>{C?T("观看视频广告后解锁彩蛋"):T()},b0=(C,T)=>{C?T("📺"):T()},c0=(C,T)=>{C?T("需观看完整视频"):T()},a0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"hint-icon")},b0);E("text",{},(N,C)=>{if(C)L(N,"hint-text")},c0)},X0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"card-title")},Y0);E("text",{},(N,C)=>{if(C)L(N,"card-desc")},Z0);E("view",{},(N,C)=>{if(C)L(N,"video-hint")},a0)},d0=(C,T)=>{C?T("→"):T()},U0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"card-icon")},V0);E("view",{},(N,C)=>{if(C)L(N,"card-content")},X0);E("view",{},(N,C)=>{if(C)L(N,"card-arrow")},d0)},g0=(C,T)=>{C?T("⏰"):T()},f0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"icon")},g0)},i0=(C,T)=>{C?T("软件验证时效"):T()},j0=(C,T)=>{C?T("查看目前验证时效信息"):T()},h0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"card-title")},i0);E("text",{},(N,C)=>{if(C)L(N,"card-desc")},j0)},k0=(C,T)=>{C?T("→"):T()},e0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"card-icon")},f0);E("view",{},(N,C)=>{if(C)L(N,"card-content")},h0);E("view",{},(N,C)=>{if(C)L(N,"card-arrow")},k0)},J0=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"function-card primary-card gpu-accelerated");if(C)O(N,"bindtap","getVerificationCode")},K0);E("view",{},(N,C)=>{if(C)L(N,"function-card secondary-card gpu-accelerated");if(C)O(N,"bindtap","showEasterEgg")},U0);E("view",{},(N,C)=>{if(C)L(N,"function-card secondary-card gpu-accelerated");if(C)O(N,"bindtap","navigateToValidityPage")},e0)},l0=(C)=>{},i=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"brand-zone smooth-animation")},j);E("view",{},(N,C)=>{if(C)L(N,"notice-section smooth-animation")},q);E("view",{},(N,C)=>{if(C)L(N,"function-area smooth-animation")},J0);E("view",{},(N,C)=>{if(C)R.y(N,"height:100rpx;")},l0)},b=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"background-decoration gpu-accelerated")},c);E("view",{},(N,C)=>{var $A=X(D.animationState).contentReady;if(C||K||!!(Z(U.animationState,"contentReady")||($A?undefined:undefined))||undefined)L(N,"main-content "+Y($A?"content-ready":"")+" gpu-accelerated");A["animationState"][2]=(D,E,T)=>{var $B=X(D.animationState).contentReady;L(N,"main-content "+Y($B?"content-ready":"")+" gpu-accelerated")}},i)},a=(C,T,E)=>{E("view",{},(N,C)=>{var $A=X(D.animationState).isExiting;var $B=X(D.animationState).isEntering;if(C||K||!!(Z(U.animationState,"isExiting")||($A?undefined:undefined)||Z(U.animationState,"isEntering")||($B?undefined:undefined))||undefined)L(N,"page-container "+Y($A?"page-exiting":"")+" "+Y($B?"page-entering":""));A["animationState"][0]=A["animationState"][1]=(D,E,T)=>{var $C=X(D.animationState).isExiting;var $D=X(D.animationState).isEntering;L(N,"page-container "+Y($C?"page-exiting":"")+" "+Y($D?"page-entering":""))}},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/index/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/index.js";define("pages/index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../../@babel/runtime/helpers/Arrayincludes");getApp();Page({data:{animationState:{isEntering:!0,isExiting:!1,contentReady:!1},notices:[],currentNoticeIndex:0,noticeLoading:!0,noticeError:!1},rewardedVideoAd:null,currentAdTarget:"",adsInitialized:!1,isAdPlaying:!1,noticeTimer:null,onLoad:function(){this.initPageAnimation(),this.adsInitialized||this.initRewardedVideoAd(),this.fetchNotices()},fetchNotices:function(){var t=this;this.setData({noticeLoading:!0,noticeError:!1}),wx.request({url:"https://app.yan.vin/XiaoChengXu/notice.json",method:"GET",timeout:1e4,success:function(e){if(200===e.statusCode&&e.data)try{var i=[];Array.isArray(e.data)?i=e.data.filter((function(t){return t&&t.content})):e.data.notices&&Array.isArray(e.data.notices)?i=e.data.notices.filter((function(t){return t&&t.content})):e.data.content&&(i=[e.data]),i.length>0?(t.setData({notices:i,noticeLoading:!1,noticeError:!1,currentNoticeIndex:0}),i.length>1&&t.startNoticeCarousel()):t.handleNoticeError("公告内容为空")}catch(e){t.handleNoticeError("解析公告数据失败")}else t.handleNoticeError("请求失败 (".concat(e.statusCode,")"))},fail:function(){t.handleNoticeError("网络请求失败")}})},handleNoticeError:function(t){this.setData({notices:[{content:"啊哦，获取公告失败了呢，或许是网络问题"}],noticeLoading:!1,noticeError:!0,currentNoticeIndex:0})},startNoticeCarousel:function(){var t=this;this.noticeTimer&&clearInterval(this.noticeTimer),this.noticeTimer=setInterval((function(){var e=t.data.notices;if(e.length>1){var i=(t.data.currentNoticeIndex+1)%e.length;t.setData({currentNoticeIndex:i})}}),5e3)},stopNoticeCarousel:function(){this.noticeTimer&&(clearInterval(this.noticeTimer),this.noticeTimer=null)},initRewardedVideoAd:function(){var t=this;wx.createRewardedVideoAd&&(this.rewardedVideoAd=wx.createRewardedVideoAd({adUnitId:"adunit-ac487887561b63a2"}),this.rewardedVideoAd.onLoad((function(){console.log("激励广告加载成功")})),this.rewardedVideoAd.onError((function(t){console.error("激励广告加载失败:",t)})),this.rewardedVideoAd.onClose((function(e){t.handleAdClose(e)})),this.rewardedVideoAd.load().catch((function(t){console.error("初始预加载失败:",t)})),this.adsInitialized=!0)},handleAdClose:function(t){var e=this;if(this.isAdPlaying=!1,wx.hideToast(),t&&t.isEnded){var i=this.currentAdTarget.includes("code")?"验证码":"彩蛋内容";wx.showToast({title:"恭喜获得".concat(i,"！"),icon:"success",duration:1500}),setTimeout((function(){e.startExitAnimation().then((function(){var t=e.currentAdTarget;t.includes("easter")&&(t+="?videoCompleted=true"),wx.navigateTo({url:t}),e.currentAdTarget=""}))}),1500)}else this.currentAdTarget="",wx.showModal({title:"视频未观看完整",content:"需要观看完整视频广告才能获得奖励，请重新尝试",showCancel:!1,confirmText:"知道了"})},initPageAnimation:function(){var t=this;wx.nextTick((function(){t.setData({"animationState.isEntering":!0}),setTimeout((function(){t.setData({"animationState.contentReady":!0,"animationState.isEntering":!1})}),100)}))},startExitAnimation:function(){var t=this;return new Promise((function(e){t.setData({"animationState.isExiting":!0}),setTimeout((function(){e(!0)}),200)}))},showRewardedVideoAd:function(t){var e=this;this.currentAdTarget=t;var i=t.includes("code")?"验证码":"彩蛋内容";wx.showModal({title:"观看视频获取奖励",content:"观看完整视频广告后即可获得".concat(i,"，是否继续？"),confirmText:"观看视频",cancelText:"取消",success:function(t){t.confirm?e.playRewardedVideoAd():e.currentAdTarget=""}})},playRewardedVideoAd:function(){var t=this;this.isAdPlaying?wx.showToast({title:"广告正在加载中，请稍候...",icon:"none",duration:1500}):(this.isAdPlaying=!0,wx.showToast({title:"正在加载广告...",icon:"loading",duration:15e3}),this.rewardedVideoAd?this.rewardedVideoAd.show().then((function(){console.log("广告show()调用成功"),wx.hideToast()})).catch((function(){var e;wx.showToast({title:"正在重新加载广告...",icon:"loading",duration:5e3}),null===(e=t.rewardedVideoAd)||void 0===e||e.load().then((function(){var e;return null===(e=t.rewardedVideoAd)||void 0===e?void 0:e.show()})).then((function(){console.log("广告重新加载并show()调用成功"),wx.hideToast()})).catch((function(e){console.error("广告加载失败:",e),wx.hideToast(),wx.showToast({title:"广告加载失败，请稍后重试或查看文档说明解决",icon:"none",duration:2e3}),t.currentAdTarget="",t.isAdPlaying=!1}))})):(wx.hideToast(),this.startExitAnimation().then((function(){wx.navigateTo({url:t.currentAdTarget}),t.currentAdTarget="",t.isAdPlaying=!1}))))},getVerificationCode:function(){this.startExitAnimation().then((function(){wx.navigateTo({url:"/pages/software-select/software-select"})}))},showAppInfo:function(){this.startExitAnimation().then((function(){wx.navigateTo({url:"/pages/app-info/app-info"})}))},showEasterEgg:function(){this.showRewardedVideoAd("/pages/easter/easter")},navigateToValidityPage:function(){this.startExitAnimation().then((function(){wx.navigateTo({url:"/pages/validity-select/validity-select"})}))},onShow:function(){this.setData({"animationState.isExiting":!1}),this.rewardedVideoAd&&this.rewardedVideoAd.load().catch((function(t){console.log("预加载失败，但不影响使用:",t)}))},onHide:function(){},onUnload:function(){this.setData({"animationState.isEntering":!1,"animationState.isExiting":!1,"animationState.contentReady":!1}),this.rewardedVideoAd&&(this.rewardedVideoAd.destroy&&this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null),this.stopNoticeCarousel(),this.currentAdTarget="",this.adsInitialized=!1}});
},{isPage:true,isComponent:true,currentFile:'pages/index/index.js'});require("pages/index/index.js");